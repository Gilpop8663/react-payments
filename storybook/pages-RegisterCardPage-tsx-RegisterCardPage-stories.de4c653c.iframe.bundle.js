"use strict";(self.webpackChunkpayments=self.webpackChunkpayments||[]).push([[838],{"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _toConsumableArray}});var arrayLikeToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return(0,arrayLikeToArray.Z)(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||(0,unsupportedIterableToArray.Z)(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./src/pages/RegisterCardPage.tsx/RegisterCardPage.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{RegisterCardPage:function(){return RegisterCardPage},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return RegisterCardPage_stories}});var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),useCardContext=__webpack_require__("./src/contexts/useCardContext.ts"),useCardInputInfo=__webpack_require__("./src/contexts/useCardInputInfo.ts"),usePageContext=__webpack_require__("./src/contexts/usePageContext.ts"),CardSpinner=__webpack_require__("./src/components/addCardPage/CardSpinner/CardSpinner.tsx"),Button=__webpack_require__("./src/components/common/Button/index.ts"),Card=__webpack_require__("./src/components/common/Card/index.ts"),Error=__webpack_require__("./src/components/common/Error/index.ts"),Input=__webpack_require__("./src/components/common/Input/index.ts"),InputField=__webpack_require__("./src/components/common/InputField/index.ts"),common=__webpack_require__("./src/utils/common.ts"),formValidate=__webpack_require__("./src/utils/formValidate.ts"),constant=__webpack_require__("./src/constants/constant.ts"),theme=__webpack_require__("./src/styles/theme.ts"),useInput=__webpack_require__("./src/hooks/useInput.ts"),useRegisterCardFormData=function useRegisterCardFormData(){return{formData:{cardTitle:(0,useInput.G)("",{name:"cardTitleInput",maxLength:20,validate:function validate(value){return value.length<=20},errorMessage:"20 글자 이하로만 입력 가능해요.",isRequired:!1})}}},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),INPUT_CARD_TITLE_ID="cardTitle";function RegisterCard(){var _useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1],formData=useRegisterCardFormData().formData,_useCardListContext=(0,useCardContext.n)(),cardList=_useCardListContext.cardList,setCardList=_useCardListContext.setCardList,setPage=(0,usePageContext.l)().setPage,cardInputInfo=(0,useCardInputInfo.g)().cardInputInfo,cardTitle=formData.cardTitle;return isLoading?(0,jsx_runtime.jsxs)(Wrapper,{children:[(0,jsx_runtime.jsx)(CardSpinner.Z,{}),(0,jsx_runtime.jsx)(LoadingMessage,{children:"카드를 등록중입니다."})]}):(0,jsx_runtime.jsxs)(Wrapper,{children:[(0,jsx_runtime.jsx)(FinishMessage,{children:"카드등록이 완료되었습니다."}),(0,jsx_runtime.jsx)(Card.Z,{companyKind:cardInputInfo.company,cardNumberSet:[cardInputInfo.cardNumber.first,cardInputInfo.cardNumber.second,cardInputInfo.cardNumber.third,cardInputInfo.cardNumber.fourth],month:cardInputInfo.expirationDate.month,year:cardInputInfo.expirationDate.year,owner:cardInputInfo.owner}),(0,jsx_runtime.jsxs)("form",{onSubmit:function onSubmit(event){event.preventDefault(),(0,formValidate.g)(formData).validationResult&&(setIsLoading(!0),setTimeout((function(){!function createCard(){var updatedCardList=[(0,objectSpread2.Z)({id:(0,common.g)(),title:cardTitle.value},cardInputInfo)].concat((0,toConsumableArray.Z)(cardList));setCardList(updatedCardList)}(),setPage(constant.MC.HOME)}),3e3))},children:[(0,jsx_runtime.jsx)(InputWrapper,{children:(0,jsx_runtime.jsx)(InputField.U,{id:INPUT_CARD_TITLE_ID,text:"카드 별칭",inputLength:"".concat(cardTitle.value.length,"/20"),children:(0,jsx_runtime.jsx)(Input.I,(0,objectSpread2.Z)((0,objectSpread2.Z)({id:INPUT_CARD_TITLE_ID,autoFocus:!0},cardTitle),{},{type:"text",bgColor:theme.O.white,textAlign:"center",enterKeyHint:"done",required:!0,autoComplete:"off",maxLength:20,placeholder:"카드 별칭을 입력해주세요."}))})}),(0,jsx_runtime.jsx)(ButtonWrapper,{children:(0,jsx_runtime.jsx)(Button.z,{text:"확인"})})]}),cardTitle.error&&(0,jsx_runtime.jsx)(Error.j,{text:cardTitle.error})]})}var _RegisterCardPage$par,_RegisterCardPage$par2,_RegisterCardPage$par3,Wrapper=styled_components_browser_esm.ZP.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n  min-height: 100vh;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  padding: 130px 0 0 0;\n"]))),FinishMessage=styled_components_browser_esm.ZP.h2(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n  margin-bottom: 36px;\n  font-weight: 400;\n  font-size: 24px;\n  line-height: 28px;\n  text-align: center;\n  color: ",";\n"])),(function(_ref){return _ref.theme.colors.primaryText})),InputWrapper=styled_components_browser_esm.ZP.div(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin-top: 124px;\n  border-bottom: 1px solid black;\n"]))),ButtonWrapper=styled_components_browser_esm.ZP.div(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)(["\n  position: absolute;\n  right: 25px;\n  bottom: 25px;\n"]))),LoadingMessage=styled_components_browser_esm.ZP.span(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.Z)(["\n  margin-top: 42px;\n  font-weight: 700;\n  font-size: 14px;\n  text-align: center;\n  color: ",";\n  opacity: 0.9;\n"])),(function(_ref2){return _ref2.theme.colors.darkGray}));var RegisterCardPage_stories={component:function RegisterCardStories(){return(0,jsx_runtime.jsx)(RegisterCard,{})},title:"Page"},RegisterCardPage={args:{}};RegisterCardPage.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},RegisterCardPage.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_RegisterCardPage$par=RegisterCardPage.parameters)||void 0===_RegisterCardPage$par?void 0:_RegisterCardPage$par.docs),{},{source:(0,objectSpread2.Z)({originalSource:"{\n  args: {}\n}"},null===(_RegisterCardPage$par2=RegisterCardPage.parameters)||void 0===_RegisterCardPage$par2||null===(_RegisterCardPage$par3=_RegisterCardPage$par2.docs)||void 0===_RegisterCardPage$par3?void 0:_RegisterCardPage$par3.source)})});var __namedExportsOrder=["RegisterCardPage"]},"./src/components/addCardPage/CardSpinner/CardSpinner.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return CardSpinner}});var _templateObject,_templateObject2,_templateObject3,_home_runner_work_react_payments_react_payments_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js")),_styles_theme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/styles/theme.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function CardSpinner(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Wrapper,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MoveBox,{})})}var Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.div(_templateObject||(_templateObject=(0,_home_runner_work_react_payments_react_payments_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__.Z)(["\n  width: 170px;\n  height: 106px;\n  border-radius: 10px;\n  background-color: ",";\n"])),_styles_theme__WEBPACK_IMPORTED_MODULE_1__.r.colors.cardGray),CardMoveAnimate=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.F4)(_templateObject2||(_templateObject2=(0,_home_runner_work_react_payments_react_payments_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__.Z)(["\n    0%{\n        transform: translateX(85px);\n    } \n    100%{\n        transform: translateX(0px);\n    } \n  "]))),MoveBox=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.div(_templateObject3||(_templateObject3=(0,_home_runner_work_react_payments_react_payments_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__.Z)(["\n  width: 85px;\n  height: 106px;\n  border-radius: 10px;\n  background-color: ",";\n  animation: "," 0.8s infinite ease-in-out alternate;\n"])),_styles_theme__WEBPACK_IMPORTED_MODULE_1__.r.colors.cardBlack,CardMoveAnimate)},"./src/contexts/useCardContext.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{n:function(){return useCardListContext}});var react=__webpack_require__("./node_modules/react/index.js"),CardListContext=(__webpack_require__("./src/constants/constant.ts"),__webpack_require__("./node_modules/react/jsx-runtime.js"),react.createContext({cardList:[],setCardList:function setCardList(){}}));function CardListContextProvider(_ref){var children=_ref.children,_useLocalStorage=useLocalStorage([],LOCAL_STORAGE_CARD_KEY),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),cardList=_useLocalStorage2[0],setCardList=_useLocalStorage2[1],memoizedValue=useMemo((function(){return{cardList:cardList,setCardList:setCardList}}),[cardList,setCardList]);return _jsx(CardListContext.Provider,{value:{cardList:memoizedValue.cardList,setCardList:memoizedValue.setCardList},children:children})}try{CardListContextProvider.displayName="CardListContextProvider",CardListContextProvider.__docgenInfo={description:"",displayName:"CardListContextProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/providers/CardListContextProvider.tsx#CardListContextProvider"]={docgenInfo:CardListContextProvider.__docgenInfo,name:"CardListContextProvider",path:"src/providers/CardListContextProvider.tsx#CardListContextProvider"})}catch(__react_docgen_typescript_loader_error){}var useCardListContext=function useCardListContext(){var context=(0,react.useContext)(CardListContext);if(void 0===context)throw new Error("useContext는 반드시 CardListContext.Provider와 함께 사용해야 합니다.");return context}}}]);